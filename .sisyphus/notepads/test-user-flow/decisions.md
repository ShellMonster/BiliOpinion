# 测试决策记录

## 决策1：使用 Playwright 而非其他测试框架
**时间**：2026-02-01  
**原因**：
- Playwright 支持多浏览器（Chromium、Firefox、WebKit）
- 提供强大的等待机制（waitForSelector、waitForURL）
- 支持截图和视频录制
- 与现代前端框架（React、Vue）集成良好

## 决策2：使用无头模式运行测试
**时间**：2026-02-01  
**原因**：
- 提高测试执行速度
- 适合 CI/CD 环境
- 减少资源占用
- 开发调试时可切换为 headless: false

## 决策3：使用系统 Chrome 而非 Playwright 内置浏览器
**时间**：2026-02-01  
**原因**：
- 避免下载和维护 Playwright 浏览器
- 使用用户实际使用的浏览器环境
- 减少存储空间占用

## 决策4：设置 60 秒超时等待 AI API
**时间**：2026-02-01  
**原因**：
- AI API 调用时间不确定（通常 10-30 秒）
- 网络波动可能导致延迟
- 避免误报测试失败
- 60 秒是合理的上限（超过则说明服务异常）

## 决策5：使用结构化选择器定位元素
**时间**：2026-02-01  
**原因**：
- 文本选择器不可靠（按钮可能是纯图标）
- CSS 选择器更稳定（不受文案变更影响）
- 结构化选择器（如 `button:has(svg)`）更语义化

