# ä¿®å¤é¦–é¡µè¾“å…¥æ¡†åŠŸèƒ½ - æ”¯æŒè‡ªç”±éœ€æ±‚è¾“å…¥

## TL;DR

> **Quick Summary**: ä¿®å¤é¦–é¡µå’Œç¡®è®¤é¡µï¼Œæ”¯æŒç”¨æˆ·è‡ªç”±æè¿°éœ€æ±‚ï¼ˆå¦‚"æˆ‘æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"ï¼‰ï¼ŒAIç†è§£åè¿”å›åˆ†ææ–¹æ¡ˆä¾›ç”¨æˆ·ç¡®è®¤
> 
> **Deliverables**:
> - ä¿®å¤åçš„ Home.tsxï¼ˆè‡ªç”±éœ€æ±‚è¾“å…¥ï¼‰
> - ä¿®å¤åçš„ Confirm.tsxï¼ˆå±•ç¤ºAIç†è§£çš„éœ€æ±‚å’Œåˆ†ææ–¹æ¡ˆï¼‰
> - æ›´æ–°åçš„ backend/ai/keyword.goï¼ˆæ”¯æŒè‡ªç”±éœ€æ±‚è§£æï¼‰
> 
> **Estimated Effort**: Medium (1-2å°æ—¶)
> **Parallel Execution**: NO - sequential
> **Critical Path**: AI Prompt â†’ Home.tsx â†’ Confirm.tsx

---

## Context

### é—®é¢˜æè¿°
ç”¨æˆ·åé¦ˆé¦–é¡µè¾“å…¥æ¡†åŠŸèƒ½ä¸åŸå§‹éœ€æ±‚ä¸ç¬¦ï¼š
- **å½“å‰å®ç°**ï¼šè®©ç”¨æˆ·è¾“å…¥ Bç«™è§†é¢‘é“¾æ¥/BVå·
- **æ­£ç¡®éœ€æ±‚**ï¼šè®©ç”¨æˆ·è‡ªç”±æè¿°éœ€æ±‚ï¼ˆå¦‚"æˆ‘æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"ï¼‰ï¼ŒAIç†è§£åç»™å‡ºåˆ†ææ–¹æ¡ˆ

### è®¾è®¡ç†å¿µ
ç”¨æˆ·ä¸éœ€è¦çŸ¥é“"å•†å“ç±»ç›®"è¿™ä¸ªæ¦‚å¿µï¼Œä»–ä»¬åªéœ€è¦ç”¨è‡ªç„¶è¯­è¨€æè¿°è‡ªå·±çš„éœ€æ±‚ï¼ŒAIä¼šï¼š
1. ç†è§£ç”¨æˆ·çš„çœŸå®æ„å›¾
2. æå–å…³é”®ä¿¡æ¯ï¼ˆå•†å“ç±»å‹ã€é¢„ç®—ã€ä½¿ç”¨åœºæ™¯ã€ç‰¹æ®Šéœ€æ±‚ç­‰ï¼‰
3. ç”Ÿæˆé’ˆå¯¹æ€§çš„åˆ†ææ–¹æ¡ˆï¼ˆå“ç‰Œã€ç»´åº¦ã€å…³é”®è¯ï¼‰
4. ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€å‘ç”¨æˆ·ç¡®è®¤ç†è§£æ˜¯å¦æ­£ç¡®

---

## Work Objectives

### Core Objective
å®ç°è‡ªç”±éœ€æ±‚è¾“å…¥ â†’ AIç†è§£ â†’ ç”¨æˆ·ç¡®è®¤ â†’ æ‰§è¡Œåˆ†æçš„å®Œæ•´æµç¨‹

### Concrete Deliverables
- `frontend/src/pages/Home.tsx` - è‡ªç”±éœ€æ±‚è¾“å…¥ç•Œé¢
- `frontend/src/pages/Confirm.tsx` - AIç†è§£ç¡®è®¤ç•Œé¢
- `backend/ai/keyword.go` - æ›´æ–°AIæç¤ºè¯æ”¯æŒè‡ªç”±éœ€æ±‚

### Definition of Done
- [x] é¦–é¡µæ”¯æŒç”¨æˆ·è¾“å…¥ä»»æ„éœ€æ±‚æè¿°
- [x] AIèƒ½ç†è§£è‡ªç”±æ ¼å¼çš„éœ€æ±‚å¹¶æå–å…³é”®ä¿¡æ¯
- [x] ç¡®è®¤é¡µæ¸…æ™°å±•ç¤ºAIçš„ç†è§£å’Œåˆ†ææ–¹æ¡ˆ
- [x] ç”¨æˆ·ç¡®è®¤åå¼€å§‹æ‰§è¡Œåˆ†æ

### Must NOT Have (Guardrails)
- ä¸é™åˆ¶ç”¨æˆ·è¾“å…¥æ ¼å¼
- ä¸è¦æ±‚ç”¨æˆ·ä½¿ç”¨ç‰¹å®šæœ¯è¯­
- ä¸æ”¹åŠ¨åç»­çš„æŠ“å–å’Œåˆ†æé€»è¾‘

---

## TODOs

- [x] 1. æ›´æ–° AI æç¤ºè¯ - æ”¯æŒè‡ªç”±éœ€æ±‚è§£æ

  **What to do**:
  - ä¿®æ”¹ `backend/ai/keyword.go` ä¸­çš„ç³»ç»Ÿæç¤ºè¯
  - è®©AIèƒ½ç†è§£è‡ªç”±æ ¼å¼çš„ç”¨æˆ·éœ€æ±‚
  - AIè¿”å›ç»“æ„åŒ–çš„ç†è§£ç»“æœï¼ŒåŒ…æ‹¬ï¼š
    - `understanding`: AIå¯¹ç”¨æˆ·éœ€æ±‚çš„ç†è§£æè¿°ï¼ˆç”¨"æˆ‘ç†è§£æ‚¨..."å¼€å¤´ï¼‰
    - `product_type`: è¯†åˆ«å‡ºçš„å•†å“ç±»å‹
    - `budget`: é¢„ç®—èŒƒå›´ï¼ˆå¦‚æœç”¨æˆ·æåˆ°ï¼‰
    - `scenario`: ä½¿ç”¨åœºæ™¯ï¼ˆå¦‚æœç”¨æˆ·æåˆ°ï¼‰
    - `special_needs`: ç‰¹æ®Šéœ€æ±‚ï¼ˆå¦‚æœç”¨æˆ·æåˆ°ï¼‰
    - `brands`: æ¨èåˆ†æçš„å“ç‰Œ
    - `dimensions`: é’ˆå¯¹æ€§çš„è¯„ä»·ç»´åº¦
    - `keywords`: Bç«™æœç´¢å…³é”®è¯

  **æ–°çš„AIè¿”å›æ ¼å¼**:
  ```json
  {
    "understanding": "æˆ‘ç†è§£æ‚¨æƒ³è´­ä¹°ä¸€å°å®¶ç”¨å¸å°˜å™¨ï¼Œé¢„ç®—åœ¨2000å…ƒå·¦å³ï¼Œå®¶é‡Œæœ‰å® ç‰©éœ€è¦å¤„ç†æ¯›å‘...",
    "product_type": "æ— çº¿å¸å°˜å™¨",
    "budget": "2000å…ƒå·¦å³",
    "scenario": "å®¶ç”¨ï¼Œæœ‰å® ç‰©",
    "special_needs": ["å¤„ç†å® ç‰©æ¯›å‘", "é™éŸ³ï¼ˆä¸å“åˆ°å® ç‰©ï¼‰"],
    "brands": ["æˆ´æ£®", "å°ç±³", "è¿½è§…", "çŸ³å¤´", "æ·»å¯"],
    "dimensions": [
      {"name": "å¸åŠ›", "description": "å¸å°˜æ•ˆæœï¼Œç‰¹åˆ«æ˜¯å¯¹å® ç‰©æ¯›å‘çš„æ¸…ç†èƒ½åŠ›"},
      {"name": "å™ªéŸ³", "description": "å·¥ä½œå™ªéŸ³å¤§å°ï¼Œæ˜¯å¦ä¼šå“åˆ°å® ç‰©"},
      {"name": "ç»­èˆª", "description": "å•æ¬¡å……ç”µä½¿ç”¨æ—¶é•¿"},
      {"name": "æ€§ä»·æ¯”", "description": "2000å…ƒé¢„ç®—å†…çš„æ€§ä»·æ¯”"},
      {"name": "æ˜“æ¸…æ´", "description": "æ»¤ç½‘å’Œå°˜ç›’çš„æ¸…æ´ä¾¿åˆ©æ€§"},
      {"name": "ä¾¿æºæ€§", "description": "é‡é‡å’Œæ“ä½œä¾¿åˆ©æ€§"}
    ],
    "keywords": ["å¸å°˜å™¨å® ç‰©æ¯›å‘", "2000å…ƒå¸å°˜å™¨æ¨è", "æ— çº¿å¸å°˜å™¨æµ‹è¯„"]
  }
  ```

  **Must NOT do**:
  - ä¸è¦æ±‚ç”¨æˆ·è¾“å…¥å¿…é¡»åŒ…å«ç‰¹å®šå­—æ®µ
  - ä¸æ‹’ç»æ¨¡ç³Šçš„éœ€æ±‚æè¿°

  **Recommended Agent Profile**:
  - **Category**: `unspecified-low`
  - **Skills**: []

  **Parallelization**:
  - **Can Run In Parallel**: NO
  - **Parallel Group**: Sequential
  - **Blocks**: Task 2, 3
  - **Blocked By**: None

  **References**:
  - å½“å‰æ–‡ä»¶: `backend/ai/keyword.go`
  - å½“å‰æç¤ºè¯ç»“æ„: ç¬¬35-54è¡Œ

  **Acceptance Criteria**:
  
  **Automated Verification (using curl)**:
  ```bash
  # æµ‹è¯•è‡ªç”±éœ€æ±‚è¾“å…¥
  curl -X POST http://localhost:8080/api/parse \
    -H "Content-Type: application/json" \
    -d '{"category": "æˆ‘æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"}'
  
  # æœŸæœ›è¿”å›åŒ…å« understanding, product_type, scenario ç­‰å­—æ®µ
  ```

  **Commit**: YES
  - Message: `feat(ai): support free-form requirement parsing`
  - Files: `backend/ai/keyword.go`

---

- [x] 2. ä¿®å¤ Home.tsx - è‡ªç”±éœ€æ±‚è¾“å…¥ç•Œé¢

  **What to do**:
  - å°†è¾“å…¥æ¡†ä»"è§†é¢‘é“¾æ¥"æ”¹ä¸º"éœ€æ±‚æè¿°"
  - ä¿®æ”¹ placeholder ä¸ºå¼•å¯¼æ€§æ–‡å­—
  - ä¿®æ”¹å¿«æ·ç¤ºä¾‹ä¸ºéœ€æ±‚æè¿°ç¤ºä¾‹
  - æ”¯æŒå¤šè¡Œè¾“å…¥ï¼ˆtextareaï¼‰ä»¥ä¾¿ç”¨æˆ·è¯¦ç»†æè¿°
  - æ›´æ–°é¡µé¢æ ‡é¢˜å’Œè¯´æ˜æ–‡å­—

  **UIè®¾è®¡**:
  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                         â”‚
  â”‚              Bç«™å•†å“è¯„è®ºåˆ†æ                              â”‚
  â”‚         å‘Šè¯‰æˆ‘ä½ æƒ³ä¹°ä»€ä¹ˆï¼ŒAIå¸®ä½ åˆ†æçœŸå®è¯„ä»·               â”‚
  â”‚                                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚ æè¿°ä½ çš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š                              â”‚   â”‚
  â”‚  â”‚ "æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"              â”‚   â”‚
  â”‚  â”‚                                                 â”‚   â”‚
  â”‚  â”‚                                    [å¼€å§‹åˆ†æ]   â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                         â”‚
  â”‚  è¯•ä¸€è¯•:                                                â”‚
  â”‚  [æƒ³ä¹°ä¸ªæœºæ¢°é”®ç›˜æ‰“æ¸¸æˆ] [é¢„ç®—3000ä¹°ä¸ªæŠ•å½±ä»ª] [ç©ºæ°”ç‚¸é”…]   â”‚
  â”‚                                                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  **å¿«æ·ç¤ºä¾‹**:
  - "æƒ³ä¹°ä¸ªæœºæ¢°é”®ç›˜ï¼Œä¸»è¦æ‰“æ¸¸æˆç”¨"
  - "é¢„ç®—3000ä¹°ä¸ªæŠ•å½±ä»ªï¼Œå§å®¤ç”¨"
  - "æƒ³ä¹°ä¸ªç©ºæ°”ç‚¸é”…ï¼Œä¸€ä¸ªäººç”¨"
  - "å®¶ç”¨å¸å°˜å™¨ï¼Œæœ‰å® ç‰©"
  - "è“ç‰™è€³æœºï¼Œé€šå‹¤é™å™ª"

  **Must NOT do**:
  - ä¸é™åˆ¶è¾“å…¥é•¿åº¦
  - ä¸è¦æ±‚ç‰¹å®šæ ¼å¼

  **Recommended Agent Profile**:
  - **Category**: `visual-engineering`
  - **Skills**: [`frontend-ui-ux`]

  **Parallelization**:
  - **Can Run In Parallel**: NO
  - **Parallel Group**: Sequential
  - **Blocks**: Task 3
  - **Blocked By**: Task 1

  **References**:
  - å½“å‰æ–‡ä»¶: `frontend/src/pages/Home.tsx`
  - UIé£æ ¼å‚è€ƒ: `.sisyphus/plans/bilibili-product-analyzer.md:686-756`

  **Acceptance Criteria**:
  
  **Automated Verification (using playwright skill)**:
  ```
  1. Navigate to: http://localhost:5173
  2. Assert: Page title contains "Bç«™å•†å“è¯„è®ºåˆ†æ"
  3. Assert: Input placeholder contains "æè¿°ä½ çš„éœ€æ±‚" or similar
  4. Assert: Quick examples are requirement descriptions (not video URLs)
  5. Fill: textarea with "æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"
  6. Click: å¼€å§‹åˆ†æ button
  7. Assert: URL changes to /confirm?requirement=...
  ```

  **Commit**: YES
  - Message: `fix(frontend): change home input to free-form requirement`
  - Files: `frontend/src/pages/Home.tsx`

---

- [x] 3. ä¿®å¤ Confirm.tsx - AIç†è§£ç¡®è®¤ç•Œé¢

  **What to do**:
  - ä» URL å‚æ•°è·å–ç”¨æˆ·éœ€æ±‚
  - è°ƒç”¨ `/api/parse` API è·å– AI ç†è§£ç»“æœ
  - ç§»é™¤ Mock æ•°æ®ï¼Œä½¿ç”¨çœŸå® API å“åº”
  - é‡æ–°è®¾è®¡ç¡®è®¤é¡µé¢å¸ƒå±€ï¼Œæ¸…æ™°å±•ç¤ºï¼š
    - AIçš„ç†è§£æè¿°ï¼ˆunderstandingï¼‰
    - è¯†åˆ«å‡ºçš„å•†å“ç±»å‹å’Œåœºæ™¯
    - æ¨èåˆ†æçš„å“ç‰Œ
    - é’ˆå¯¹æ€§çš„è¯„ä»·ç»´åº¦
    - æœç´¢å…³é”®è¯
  - ç¡®è®¤æŒ‰é’®è°ƒç”¨ `/api/confirm` API

  **UIè®¾è®¡**:
  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â† è¿”å›ä¿®æ”¹                                             â”‚
  â”‚                                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚ ğŸ’¡ æˆ‘ç†è§£æ‚¨çš„éœ€æ±‚                                â”‚   â”‚
  â”‚  â”‚                                                 â”‚   â”‚
  â”‚  â”‚ æˆ‘ç†è§£æ‚¨æƒ³è´­ä¹°ä¸€å°å®¶ç”¨å¸å°˜å™¨ï¼Œé¢„ç®—åœ¨2000å…ƒå·¦å³ï¼Œ  â”‚   â”‚
  â”‚  â”‚ å®¶é‡Œæœ‰å® ç‰©éœ€è¦å¤„ç†æ¯›å‘ã€‚æˆ‘å°†ä¸ºæ‚¨åˆ†æä»¥ä¸‹å“ç‰Œçš„    â”‚   â”‚
  â”‚  â”‚ çœŸå®ç”¨æˆ·è¯„ä»·...                                  â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                         â”‚
  â”‚  ğŸ“¦ å•†å“ç±»å‹: æ— çº¿å¸å°˜å™¨                                â”‚
  â”‚  ğŸ’° é¢„ç®—èŒƒå›´: 2000å…ƒå·¦å³                                â”‚
  â”‚  ğŸ  ä½¿ç”¨åœºæ™¯: å®¶ç”¨ï¼Œæœ‰å® ç‰©                              â”‚
  â”‚                                                         â”‚
  â”‚  ğŸ·ï¸ å°†åˆ†æè¿™äº›å“ç‰Œ                                     â”‚
  â”‚  [æˆ´æ£®] [å°ç±³] [è¿½è§…] [çŸ³å¤´] [æ·»å¯]                     â”‚
  â”‚                                                         â”‚
  â”‚  ğŸ“Š è¯„ä»·ç»´åº¦                                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
  â”‚  â”‚ å¸åŠ›   â”‚ â”‚ å™ªéŸ³   â”‚ â”‚ ç»­èˆª   â”‚                     â”‚
  â”‚  â”‚ å® ç‰©æ¯› â”‚ â”‚ ä¸å“å®  â”‚ â”‚ ä½¿ç”¨æ—¶ â”‚                     â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
  â”‚  â”‚ æ€§ä»·æ¯” â”‚ â”‚ æ˜“æ¸…æ´ â”‚ â”‚ ä¾¿æºæ€§ â”‚                     â”‚
  â”‚  â”‚ 2000å†… â”‚ â”‚ æ»¤ç½‘å°˜ â”‚ â”‚ é‡é‡æ“ â”‚                     â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
  â”‚                                                         â”‚
  â”‚  ğŸ” æœç´¢å…³é”®è¯                                          â”‚
  â”‚  å¸å°˜å™¨å® ç‰©æ¯›å‘ | 2000å…ƒå¸å°˜å™¨æ¨è | æ— çº¿å¸å°˜å™¨æµ‹è¯„     â”‚
  â”‚                                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚              âœ“ ç¡®è®¤å¼€å§‹åˆ†æ                      â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                         â”‚
  â”‚  ç†è§£æœ‰è¯¯ï¼Ÿè¿”å›ä¿®æ”¹éœ€æ±‚æè¿°                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  **Must NOT do**:
  - ä¸åœ¨ç¡®è®¤é¡µå®ç°ç¼–è¾‘åŠŸèƒ½ï¼ˆç¬¬ä¸€æœŸåªè¯»ï¼‰
  - ä¸æ”¹å˜æ•´ä½“æ¯›ç»ç’ƒé£æ ¼

  **Recommended Agent Profile**:
  - **Category**: `visual-engineering`
  - **Skills**: [`frontend-ui-ux`]

  **Parallelization**:
  - **Can Run In Parallel**: NO
  - **Parallel Group**: Sequential
  - **Blocks**: None
  - **Blocked By**: Task 2

  **References**:
  - å½“å‰æ–‡ä»¶: `frontend/src/pages/Confirm.tsx`
  - åç«¯ API: `backend/api/parse.go`
  - åç«¯ API: `backend/api/confirm.go`
  - UIé£æ ¼å‚è€ƒ: `.sisyphus/plans/bilibili-product-analyzer.md:756-783`

  **Acceptance Criteria**:
  
  **Automated Verification (using playwright skill)**:
  ```
  1. Navigate to: http://localhost:5173/confirm?requirement=æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©
  2. Wait for: Loading spinner to disappear (API call complete)
  3. Assert: Page shows AI understanding text (contains "æˆ‘ç†è§£æ‚¨")
  4. Assert: Page shows product type (æ— çº¿å¸å°˜å™¨ or similar)
  5. Assert: Page shows brand tags
  6. Assert: Page shows 6 dimension cards
  7. Assert: Page shows search keywords
  8. Click: ç¡®è®¤å¼€å§‹åˆ†æ button
  9. Assert: URL changes to /progress/{task_id}
  ```

  **Commit**: YES
  - Message: `fix(frontend): redesign confirm page for AI understanding display`
  - Files: `frontend/src/pages/Confirm.tsx`

---

- [x] 4. æ›´æ–°ç±»å‹å®šä¹‰å’ŒAPIå‚æ•°

  **What to do**:
  - æ›´æ–° `ParseKeywordRequest` å­—æ®µåä» `Category` æ”¹ä¸º `Requirement`
  - æ›´æ–° `ParseKeywordResponse` æ·»åŠ æ–°å­—æ®µ
  - æ›´æ–°å‰ç«¯ API è°ƒç”¨å‚æ•°
  - ç¡®ä¿å‰åç«¯ç±»å‹ä¸€è‡´

  **åç«¯ç±»å‹æ›´æ–°** (`backend/ai/keyword.go`):
  ```go
  type ParseKeywordRequest struct {
      Requirement string // ç”¨æˆ·çš„éœ€æ±‚æè¿°ï¼ˆè‡ªç”±æ ¼å¼ï¼‰
  }

  type ParseKeywordResponse struct {
      Understanding string      `json:"understanding"`   // AIå¯¹éœ€æ±‚çš„ç†è§£
      ProductType   string      `json:"product_type"`    // è¯†åˆ«çš„å•†å“ç±»å‹
      Budget        string      `json:"budget"`          // é¢„ç®—èŒƒå›´ï¼ˆå¯é€‰ï¼‰
      Scenario      string      `json:"scenario"`        // ä½¿ç”¨åœºæ™¯ï¼ˆå¯é€‰ï¼‰
      SpecialNeeds  []string    `json:"special_needs"`   // ç‰¹æ®Šéœ€æ±‚ï¼ˆå¯é€‰ï¼‰
      Brands        []string    `json:"brands"`          // æ¨èå“ç‰Œ
      Dimensions    []Dimension `json:"dimensions"`      // è¯„ä»·ç»´åº¦
      Keywords      []string    `json:"keywords"`        // æœç´¢å…³é”®è¯
  }
  ```

  **å‰ç«¯APIè°ƒç”¨æ›´æ–°**:
  ```typescript
  // è¯·æ±‚
  POST /api/parse
  { "requirement": "æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©" }

  // å“åº”
  {
    "understanding": "æˆ‘ç†è§£æ‚¨...",
    "product_type": "æ— çº¿å¸å°˜å™¨",
    "budget": "2000å…ƒå·¦å³",
    "scenario": "å®¶ç”¨ï¼Œæœ‰å® ç‰©",
    "special_needs": ["å¤„ç†å® ç‰©æ¯›å‘"],
    "brands": [...],
    "dimensions": [...],
    "keywords": [...]
  }
  ```

  **Must NOT do**:
  - ä¸ç ´åç°æœ‰çš„ confirm API

  **Recommended Agent Profile**:
  - **Category**: `quick`
  - **Skills**: []

  **Parallelization**:
  - **Can Run In Parallel**: NO
  - **Parallel Group**: Sequential
  - **Blocks**: None
  - **Blocked By**: Task 1

  **References**:
  - `backend/ai/keyword.go`
  - `backend/api/parse.go`

  **Acceptance Criteria**:
  
  **Automated Verification (using curl)**:
  ```bash
  curl -X POST http://localhost:8080/api/parse \
    -H "Content-Type: application/json" \
    -d '{"requirement": "æƒ³ä¹°ä¸ªå¸å°˜å™¨"}'
  
  # æœŸæœ›è¿”å›åŒ…å« understanding å­—æ®µ
  ```

  **Commit**: YES
  - Message: `refactor(api): rename category to requirement, add new response fields`
  - Files: `backend/ai/keyword.go, backend/api/parse.go`

---

## Commit Strategy

| After Task | Message | Files |
|------------|---------|-------|
| 1 | `feat(ai): support free-form requirement parsing` | backend/ai/keyword.go |
| 2 | `fix(frontend): change home input to free-form requirement` | frontend/src/pages/Home.tsx |
| 3 | `fix(frontend): redesign confirm page for AI understanding display` | frontend/src/pages/Confirm.tsx |
| 4 | `refactor(api): rename category to requirement, add new response fields` | backend/ai/keyword.go, backend/api/parse.go |

---

## Success Criteria

### Verification Commands
```bash
# å¯åŠ¨åç«¯
go run backend/main.go
# Expected: Server running on :8080

# å¯åŠ¨å‰ç«¯
cd frontend && npm run dev
# Expected: Vite dev server on :5173
```

### Final Checklist
- [x] é¦–é¡µæ”¯æŒè‡ªç”±æ ¼å¼éœ€æ±‚è¾“å…¥
- [x] AIèƒ½ç†è§£"æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"è¿™æ ·çš„éœ€æ±‚
- [x] ç¡®è®¤é¡µæ¸…æ™°å±•ç¤ºAIçš„ç†è§£ï¼ˆunderstandingå­—æ®µï¼‰
- [x] ç¡®è®¤é¡µå±•ç¤ºè¯†åˆ«å‡ºçš„å•†å“ç±»å‹ã€é¢„ç®—ã€åœºæ™¯
- [x] ç¡®è®¤é¡µå±•ç¤ºé’ˆå¯¹æ€§çš„å“ç‰Œå’Œç»´åº¦
- [x] ç¡®è®¤åè·³è½¬åˆ°è¿›åº¦é¡µå¼€å§‹åˆ†æ

---

## ç”¨æˆ·ä½“éªŒæµç¨‹

```
ç”¨æˆ·è¾“å…¥: "æƒ³ä¹°ä¸ªå¸å°˜å™¨ï¼Œé¢„ç®—2000ï¼Œå®¶é‡Œæœ‰å® ç‰©"
    â†“
AIç†è§£: "æˆ‘ç†è§£æ‚¨æƒ³è´­ä¹°ä¸€å°å®¶ç”¨å¸å°˜å™¨ï¼Œé¢„ç®—åœ¨2000å…ƒå·¦å³ï¼Œ
        å®¶é‡Œæœ‰å® ç‰©éœ€è¦å¤„ç†æ¯›å‘..."
    â†“
å±•ç¤ºåˆ†ææ–¹æ¡ˆ:
  - å•†å“ç±»å‹: æ— çº¿å¸å°˜å™¨
  - é¢„ç®—: 2000å…ƒ
  - åœºæ™¯: å®¶ç”¨ï¼Œæœ‰å® ç‰©
  - å“ç‰Œ: æˆ´æ£®ã€å°ç±³ã€è¿½è§…...
  - ç»´åº¦: å¸åŠ›(å® ç‰©æ¯›)ã€å™ªéŸ³(ä¸å“å® ç‰©)ã€ç»­èˆªã€æ€§ä»·æ¯”...
    â†“
ç”¨æˆ·ç¡®è®¤ â†’ å¼€å§‹æŠ“å–Bç«™è¯„è®º â†’ ç”Ÿæˆåˆ†ææŠ¥å‘Š
```
